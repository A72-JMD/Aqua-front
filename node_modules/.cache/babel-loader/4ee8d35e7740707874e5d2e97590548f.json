{"ast":null,"code":"import { Auth, API } from \"aws-amplify\";\nimport config from \"../../config\";\nexport async function apiGET(apiPath) {\n  let authenticated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  try {\n    console.log(\"Test Getting\");\n    let apiName = config.apiGateway.NAME;\n    let path = apiPath;\n    let myInit = authenticated ? {\n      headers: {\n        Authorization: \"Bearer \".concat((await Auth.currentSession()).getIdToken().getJwtToken())\n      }\n    } : \"\";\n    var result = await API.get(apiName, path, myInit);\n    console.log(\"GET result\");\n    console.log(result);\n  } catch (e) {\n    if (e.message === \"Request failed with status code 502\") {} else if (e.message === \"Request failed with status code 400\") {\n      return null;\n    } else {\n      console.log(e);\n    }\n  }\n  return result;\n}\n\n/// GET\n/// POST\nexport async function apiPOST(apiPath, body) {\n  try {\n    delete body.isLoading;\n    let apiName = config.apiGateway.NAME;\n    let path = apiPath;\n    let myInit = {\n      headers: {\n        Authorization: \"Bearer \".concat((await Auth.currentSession()).getIdToken().getJwtToken())\n      },\n      body\n    };\n    var result = await API.post(apiName, path, myInit);\n    console.log(\"POST result\");\n    console.log(result);\n  } catch (e) {\n    if (e.message === \"Request failed with status code 502\") {} else {\n      console.log(\"POST ERROR\");\n      console.log(e);\n    }\n  }\n  return result;\n}\n\n/// PUT\n\nexport async function apiPUT(apiPath, body) {\n  try {\n    delete body.isLoading;\n    let apiName = config.apiGateway.NAME;\n    let path = apiPath;\n    let myInit = {\n      headers: {\n        Authorization: \"Bearer \".concat((await Auth.currentSession()).getIdToken().getJwtToken())\n      },\n      body\n    };\n    var result = await API.put(apiName, path, myInit);\n    console.log(\"PUT result\");\n    console.log(result);\n  } catch (e) {\n    if (e.message === \"Request failed with status code 502\") {} else {\n      console.log(\"PUT ERROR\");\n      console.log(e);\n    }\n  }\n  return result;\n}","map":{"version":3,"names":["Auth","API","config","apiGET","apiPath","authenticated","arguments","length","undefined","console","log","apiName","apiGateway","NAME","path","myInit","headers","Authorization","concat","currentSession","getIdToken","getJwtToken","result","get","e","message","apiPOST","body","isLoading","post","apiPUT","put"],"sources":["/Users/JMD/Developments/Projects/Fiji-Web/src/Common/Api/apiHelper.js"],"sourcesContent":["import { Auth, API } from \"aws-amplify\";\r\n\r\nimport config from \"../../config\";\r\n\r\nexport async function apiGET(apiPath, authenticated = true) {\r\n  try {\r\n    console.log(\"Test Getting\");\r\n    let apiName = config.apiGateway.NAME;\r\n    let path = apiPath;\r\n    let myInit = authenticated\r\n      ? {\r\n          headers: {\r\n            Authorization: `Bearer ${(await Auth.currentSession())\r\n              .getIdToken()\r\n              .getJwtToken()}`\r\n          }\r\n        }\r\n      : \"\";\r\n    var result = await API.get(apiName, path, myInit);\r\n    console.log(\"GET result\");\r\n    console.log(result);\r\n  } catch (e) {\r\n    if (e.message === \"Request failed with status code 502\") {\r\n    } else if (e.message === \"Request failed with status code 400\") {\r\n      return null;\r\n    } else {\r\n      console.log(e);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/// GET\r\n/// POST\r\nexport async function apiPOST(apiPath, body) {\r\n  try {\r\n    delete body.isLoading;\r\n    let apiName = config.apiGateway.NAME;\r\n    let path = apiPath;\r\n    let myInit = {\r\n      headers: {\r\n        Authorization: `Bearer ${(await Auth.currentSession())\r\n          .getIdToken()\r\n          .getJwtToken()}`\r\n      },\r\n      body\r\n    };\r\n    var result = await API.post(apiName, path, myInit);\r\n    console.log(\"POST result\");\r\n    console.log(result);\r\n  } catch (e) {\r\n    if (e.message === \"Request failed with status code 502\") {\r\n    } else {\r\n      console.log(\"POST ERROR\");\r\n      console.log(e);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n/// PUT\r\n\r\nexport async function apiPUT(apiPath, body) {\r\n  try {\r\n    delete body.isLoading;\r\n    let apiName = config.apiGateway.NAME;\r\n    let path = apiPath;\r\n    let myInit = {\r\n      headers: {\r\n        Authorization: `Bearer ${(await Auth.currentSession())\r\n          .getIdToken()\r\n          .getJwtToken()}`\r\n      },\r\n      body\r\n    };\r\n    var result = await API.put(apiName, path, myInit);\r\n    console.log(\"PUT result\");\r\n    console.log(result);\r\n  } catch (e) {\r\n    if (e.message === \"Request failed with status code 502\") {\r\n    } else {\r\n      console.log(\"PUT ERROR\");\r\n      console.log(e);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}