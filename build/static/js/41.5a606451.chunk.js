(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[41],{1414:function(e,t,s){"use strict";s.r(t);var a=s(4),n=s.n(a),r=s(931),c=s(932),o=s(955),u=s(944),l=s(1377),m=s(63),i=s(956),d=s(917),b=s(936);var E=function(e){const[t,s]=Object(a.useState)([]),[c,o]=Object(a.useState)(!1),u={in_progress:"In progress",not_started:"Not started"};Object(a.useEffect)(()=>{l()},[]);const l=async()=>{o(!1),await E().then(e=>{s(e.body),o(!0)}).catch(e=>{console.error(e)})},E=async()=>{try{let t="Fiji-Dev",s="/assessments/list",a={headers:{Authorization:"Bearer ".concat((await m.b.currentSession()).getIdToken().getJwtToken())}};var e=await m.a.get(t,s,a)}catch(t){"Request failed with status code 502"===t.message||console.log(t)}return e},g=t=>{console.log(t.target.name),e.setCurrentAssessment(t.target.id),e.setCurrentAssessmentCustomer(t.target.name),e.setViewForm(t.target.name)};return n.a.createElement(i.a,null,c?t.map((e,t)=>n.a.createElement(r.a,{key:t},n.a.createElement("div",null,n.a.createElement(d.a,{size:"sm",color:"link",type:"reset",onClick:g,id:e.assessment_id,name:e.customer},"".concat(e.customer," - ").concat(u[e.status]))))):n.a.createElement(b.a,null))};t.default=function(e){const[t,s]=Object(a.useState)("Vendor Dashboard"),[m,i]=Object(a.useState)(!1),[d,b]=Object(a.useState)(""),[g,h]=Object(a.useState)("");Object(a.useEffect)(()=>{f()},[]);const f=async()=>{e.userDetails.userGroups.includes("Vendor")||e.history.push("/401")},p=e=>{i(!m),s("Vendor Assessment - ".concat(e))},j=()=>{i(!1),s("Vendor Dashboard")};return n.a.createElement("div",{className:"animated fadeIn"},n.a.createElement(r.a,null,n.a.createElement(c.a,{xs:"12"},n.a.createElement(o.a,null,n.a.createElement(u.a,null,n.a.createElement("h2",null,t)),m?n.a.createElement(l.default,Object.assign({},e,{currentAssessment:d,currentAssessmentCustomer:g,backClick:j})):n.a.createElement(E,Object.assign({},e,{setViewForm:p,viewForm:m,setCurrentAssessment:b,setCurrentAssessmentCustomer:h}))))))}}}]);
//# sourceMappingURL=41.5a606451.chunk.js.map