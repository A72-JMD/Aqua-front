(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[37],{1404:function(e,t,o){"use strict";o.r(t);var a=o(4),n=o.n(a),r=o(63),s=o(918);t.default=function(e){const[t,o]=Object(a.useState)(!1),[c,i]=Object(a.useState)([]),[l,u]=Object(a.useState)();return Object(a.useEffect)(()=>{(async()=>{var e="Bearer ".concat((await r.b.currentSession()).getIdToken().getJwtToken());u(e)})();var t="test";(async a=>{try{let e="Fiji-Dev",o="/listfiles",s={headers:{filetype:a,Authorization:"Bearer ".concat((await r.b.currentSession()).getIdToken().getJwtToken())}};console.log("==========INIT with token=============="),Array.isArray(s.headers),t=s.headers.Authorization,console.log("========================");var n=await r.a.get(e,o,s);console.log(n),i(n)}catch(s){"Request failed with status code 502"===s.message?o(!0):(alert(JSON.stringify(s)),e.onLogout())}})("Positions"),console.log(t)},[]),n.a.createElement("div",null,Array.isArray(c.Files)&&c.Files.map(e=>n.a.createElement("div",null,e.Positions.map((function(e){return n.a.createElement("div",null,n.a.createElement("div",{class:"d-none d-sm-inline-block col-sm-6"},n.a.createElement("button",{onClick:()=>async function(e){s.a.httpRequest("https://ww8jinvodc.execute-api.ap-southeast-2.amazonaws.com/V1/fiji-web-files/Banks%2FLGT%2FPositions%2F"+e,"get",l).then(e=>e.blob()).then(t=>{const o=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=o,a.setAttribute("download",e),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)})}(e.File),class:"float-right btn btn-primary"},n.a.createElement("i",{class:"icon-cloud-download"})),n.a.createElement("div",{"aria-label":"Toolbar with button groups",role:"toolbar",class:"float-right btn-toolbar"},n.a.createElement("div",{"aria-label":"First group",role:"group",class:"mr-3 btn-group"},n.a.createElement("button",{type:"button",class:"btn btn-outline-secondary active"},e.Bank),n.a.createElement("button",{type:"button",class:"btn btn-outline-secondary"},e.File),n.a.createElement("button",{type:"button",class:"btn btn-outline-secondary"},"Status")))))})))))}},918:function(e,t,o){"use strict";const a={httpRequest:(e,t,o,a,n)=>{const r={method:t,headers:{"Content-Type":"application/json",authorization:o}};return"post"===t.toLowerCase()&&a&&a.length>0&&(r.body=JSON.stringify(a)),n&&"object"===typeof n&&Object.keys(n).length>0&&(r.headers=n),fetch(e,r).then(e=>{if(e.ok){let t=e;return console.log("check data"),console.log(t),t}return Promise.reject(e)})}};t.a=a}}]);
//# sourceMappingURL=37.770d5cf2.chunk.js.map